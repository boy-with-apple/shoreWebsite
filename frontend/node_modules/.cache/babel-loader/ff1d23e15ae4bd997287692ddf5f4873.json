{"ast":null,"code":"import 'isomorphic-fetch';\nconst ROOT_URL = 'http://localhost:3000';\n\nasync function sendRequest(path, options = {}) {\n  const headers = {\n    'Content-type': 'application/json; charset=UTF-8'\n  };\n  const response = await fetch(`${ROOT_URL}${path}`, Object.assign({\n    method: 'POST',\n    credentials: 'include'\n  }, {\n    headers\n  }, options));\n  const data = await response.json();\n\n  if (data.error) {\n    throw new Error(data.error);\n  }\n\n  return data;\n}\n\nexport const subscribeToNewsletter = ({\n  email\n}) => sendRequest('/api/v1/public/subscribe', {\n  body: JSON.stringify({\n    email\n  })\n});","map":{"version":3,"sources":["/Users/adamkuzminski/shoreSPA/frontend/src/lib/api/public.js"],"names":["ROOT_URL","sendRequest","path","options","headers","response","fetch","Object","assign","method","credentials","data","json","error","Error","subscribeToNewsletter","email","body","JSON","stringify"],"mappings":"AAAA,OAAO,kBAAP;AACA,MAAMA,QAAQ,GAAG,uBAAjB;;AACA,eAAeC,WAAf,CAA2BC,IAA3B,EAAiCC,OAAO,GAAG,EAA3C,EAA+C;AAC7C,QAAMC,OAAO,GAAG;AACd,oBAAgB;AADF,GAAhB;AAGF,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CACvB,GAAEN,QAAS,GAAEE,IAAK,EADK,EAExBK,MAAM,CAACC,MAAP,CAAc;AAAEC,IAAAA,MAAM,EAAE,MAAV;AAAkBC,IAAAA,WAAW,EAAE;AAA/B,GAAd,EAA0D;AAAEN,IAAAA;AAAF,GAA1D,EAAuED,OAAvE,CAFwB,CAA5B;AAIA,QAAMQ,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAnB;;AACA,MAAID,IAAI,CAACE,KAAT,EAAgB;AACZ,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACE,KAAf,CAAN;AACD;;AACH,SAAOF,IAAP;AACC;;AACD,OAAO,MAAMI,qBAAqB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACnCf,WAAW,CAAC,0BAAD,EAA6B;AACtCgB,EAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEH,IAAAA;AAAF,GAAf;AADgC,CAA7B,CADN","sourcesContent":["import 'isomorphic-fetch';\nconst ROOT_URL = 'http://localhost:3000';\nasync function sendRequest(path, options = {}) {\n  const headers = {\n    'Content-type': 'application/json; charset=UTF-8',\n  };\nconst response = await fetch(\n    `${ROOT_URL}${path}`,\n    Object.assign({ method: 'POST', credentials: 'include' }, { headers }, options),\n  );\nconst data = await response.json();\nif (data.error) {\n    throw new Error(data.error);\n  }\nreturn data;\n}\nexport const subscribeToNewsletter = ({ email }) =>\n  sendRequest('/api/v1/public/subscribe', {\n    body: JSON.stringify({ email }),\n  });\n"]},"metadata":{},"sourceType":"module"}